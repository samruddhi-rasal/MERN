<!DOCTYPE html>
<html>
    <head>
        <title>jQuery Demo</title>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    </head>
    <body>
        <h1>Transflower Learning Pvt.Ltd</h1> 
        <p>Doing ordinary things extra ordinarily</p>
        <p> Learner as a Service</p>

        <p id="para">Hello</p>
        <hr/>
        <ol>
            <li>Corporate Training</li>
            <li>Online Training</li>
            <li>Classroom Training</li>
        </ol>
        <button id="btnApply">Apply</button>
        <button id="btnReset">Reset</button>
        <hr/>
        <table>
            <tr>
                <td><lable>User Name</lable></td>
                <td><input type="text" value="Samruddhi" id="txtUsername" name="username" /></td>
                </tr>
                <tr>
                <td>Password</td>
                <td><input type="password" value="12345" id="txtPassword" name="password" /></td>
                </tr>
                <tr>
                <td> </td>
                <td><button id="btnLogin">Login</button></td>
                </tr>
        </table>
        <hr/>
                <button id="btnFetchFlower">Fetch flower</button>
        <h2>Todays Requested flowers for you... </h2>
        <table>
            <tr>
                <td>Title</td>
                <td><p id="pTitle"></td>
                </tr>
                <tr>
                <td>Image</td>
                <td><img id="imgFlower" width="100" height="100"></img></td>
                </tr>
                <tr>
                <td>Description</td>
                <td><p id="pDescription"></td>
                </tr>
                <tr>
                <td>Quantity</td>
                <td><p id="pQuantity"></td>
                </tr>
                <tr>
                <td>Unit Price </td>
                <td><p id="pUnitPrice"></p></td>
                </tr>
                <td><button id="btnLogin">Login</button></td>
        </table>
        <script>
        $(document).ready(function(){
        console.log("Document is ready.....");
        //Event Binding
        //Event is registered with event handler
        //Event handler is a callback function
        //Event Handler will be automatically invoked
        //Event is generated by end user on click of
        
        // Apply Button
        $("#btnApply").click(function(){
        console.log("Apply Button is clicked.....");
        //Data binding
        //associating data with HTML element
        $("#para").text("Apply is clicked.....");
        $("#para").show();
        var newUser={
            "username":"Tanishka",
            "password" : "Transflower"
        };
        //before setting value
        //can you invoke $.ajax=() to fetch user details from
        //http:localhost:8080/api/users
        //change the values of HTML Element 
        //DOM Manipulation
        $("#txtuserName").val(newUser.username);
        $("#txtpassword").val(newUser.password);
        });


        // Reset Button
        $("#btnReset").click(function(){
        console.log("Reset Button is clicked.....");
        $("#para").text("Reset is clicked.....");
        
        });
        // Login Button
        $("#btnLogin").click(function(){
        let username = $("#txtUsername").val();
        let password = $("#txtPassword").val();
        var credential = {
            username: username,
            password: password
        };
        console.log(credential);
        });
        // Fetch Flower Button
        $("#btnFetchFlower").click(function(){
            console.log("Fetching flowrers from external API.....");
            //Call Ajax
            //R Operation : Read Operation external API Call
            
            $.ajax({
                url: "/api/flowers/2",
                type: "GET",
                success: function(flower){
                    console.log(flower);
                    $("#pTitle").text(flower.name);
                    $("#pDescription").text(flower.description);
                    $("#pQuantity").text(flower.quantity);
                    $("#pUnitPrice").text(flower.unitPrice);
                    $("#imgFlower").attr("src", flower.imageurl);
                    
                },
                error:function(err){
                    console.log(err);
                
                }
            })
        });
        });
</script>
</body>
</html>