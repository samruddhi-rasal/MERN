<!DOCTYPE html>
<html>
    <head>
        <script src = "scripts/jquery.min.js"></script>
        </head>
        <body>
            <h1>Update Existing Customer</h1>
            <hr/>
            <table>
    <tr>
        <td><label>Id</label></td>
        <td><input type="text" name="id" id="id"/></td>
    </tr>

    <tr>
        <td><label>FirstName</label></td>
        <td><input type="text" name="FirstName" id="FirstName"/></td>
    </tr>

    <tr>
        <td><label>LastName</label></td>
        <td><input type="text" name="LastName" id="LastName"/></td>
    </tr>

    <tr>
        <td><label>Email</label></td>
        <td><input type="text" name="Email" id="Email"/></td>
    </tr>

    <tr>
        <td><label>ContactNumber</label></td>
        <td><input type="text" name="contactnumber" id="contactnumber"/></td>
    </tr>

    <tr>
        <td></td>
        <td><button>Update</button></td>
    </tr>
    </table>

    <script>
        $(document).ready(function(){
            $("button").click(function(){
                //alert("button clicked.....")
                //send data to rest api for post request handler
                //http:localhost:9000/api/customer/7
                var theCustomer={
                    "id":7,
                    "firstname": "Sudeep",
                    "lastname" : "Konde",
                    "email" : "konde@gmail.com",
                    "contact number" : 98776543335
                };
            let url="/api/customers/"+theCustomer.id;
            //invoiking PUT REST API At server side
            /*$.put(url,theCustomer,function(){
                console.log("data is updated to server.")
            });   
            */
            //in jQuery there are no $,delete function availble
            //we should use $.ajax function
            //generic function to call any type of HTTP Request Handler
            //available at server side
            
           //Client Side CRUD Operations using jQuery
           //CRUD Operation of jQuery to invoke CRUD Operations Available at server side
           //$.ajax() method
            //U operation : update operation
            $.ajax({
                url: 'test.html', //url of rest api
                type:'PUT', //request type of rest api
                data:theCustomer, //data to be sent through request body
                success: function (result){
                    //Do something with the result 
                    console.log("customer is updated to server");
                }
            });

            //C operation : Create operation
            $.ajax({
                url: 'test.html', //url of rest api
                type:'POST', //request type of rest api
                data:theCustomer, //data to be sent through request body
                success: function (result){
                    //Do something with the result 
                    console.log("customer is posted to server");
                }
            });

            //used to fetch all customer from server
            // d : delete operation
            $.ajax({
                url: url, //url of rest api
                type:'DELETE', //request type of rest api
                success: function (result){
                    //Do something with the result 
                    console.log("the customer is deleted form the server");
                }
            });
            
            //used to fetch all customer from server
            //R : read operation
            $.ajax({
                url: url, //url of rest api
                type:'GET', //request type of rest api
                success: function (result){
                    //Do something with the result

                    console.log(resulkt);
                }
            });
            });
        });

    </script>


        </body>
    </head>
</html>